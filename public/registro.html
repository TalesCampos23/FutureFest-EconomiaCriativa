<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Registrar — ConectaDoa</title>
    <link href="https://fonts.googleapis.com/css2?family=quicksand:wght@400;600&family=montserrat:wght@300;400;600&display=swap%22 rel="stylesheet">
    <style>
      *{box-sizing:border-box;margin:0;padding:0}
      html,body{height:100%}
      body{font-family:'montserrat',system-ui,Roboto,Arial; background:#f0f3f4;color:#123041;-webkit-font-smoothing:antialiased}
 
      .wrap{min-height:100vh;display:flex;flex-direction:row;align-items:stretch;}
 
      /* esquerda (mesma aparência do login) */
      .left{
        flex:1;
        background:#edfafd;
        padding:80px 64px;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        text-align:center;
        position:relative;
      }
      .left h1{ font-family:'quicksand',sans-serif; font-size:22px; color:#123041; margin-bottom:10px; font-weight:600; }
      .left p{ max-width:520px; color:#4e7b80; font-size:13px; line-height:1.6; margin-bottom:28px; }
      .logo-circle{ width:120px; height:120px; border-radius:50%; background:#3fd6ff; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 18px rgba(0,0,0,0.08); margin-bottom:12px; }
      .logo-caption{ color:#3f6b73; font-size:14px; margin-bottom:28px; }
      .illustration{ max-width:420px; width:70%; margin-top:8px; opacity:0.95; }
 
      /* direita (form registro) */
      .right{ width:520px; background:#fff; padding:40px 48px; display:flex; flex-direction:column; justify-content:flex-start; box-shadow: -6px 0 24px rgba(0,0,0,0.03); }
 
      .back-pill{ display:inline-flex; align-items:center; gap:10px; cursor:pointer; margin-bottom:18px; }
      .back-pill .pill{ background:#fff6e8; border-radius:18px; padding:8px 14px; box-shadow:0 4px 10px rgba(0,0,0,0.04); font-size:14px; color:#123041; display:inline-flex; align-items:center; gap:10px; }
 
      .title{ font-family:'quicksand',sans-serif; font-size:32px; color:#123041; margin-bottom:6px; font-weight:700; }
      .subtitle{ color:#7b8e92; margin-bottom:18px; }
 
      label.field{ display:block; margin-bottom:14px }
      label.field .label-text{ font-size:13px; color:#607b80; margin-bottom:8px; display:block }
      input[type="text"], input[type="email"], input[type="password"]{
        width:100%; padding:12px 14px; border-radius:8px; border:1px solid #e6f0f2; font-size:14px; outline:none;
      }
 
      .action-row{ display:flex; gap:12px; align-items:center; margin-top:6px }
      .btn{ padding:10px 18px; border-radius:10px; border:none; cursor:pointer; font-weight:700; font-size:14px }
      .btn-register{ background:#47dcfe; color:#06323f; }
      .btn-login{ background:#152b42; color:#fff; }
 
      .divider{ display:flex; align-items:center; gap:12px; margin:28px 0; color:#9aaeb5; font-size:13px }
      .divider::before,.divider::after{ content:''; flex:1; height:1px; background:#eef6f9 }
 
      .google-btn{ display:inline-flex; align-items:center; gap:12px; padding:10px 14px; border-radius:28px; border:1px solid #eef6f9; background:#fff; cursor:pointer; }
      .google-btn img{ width:20px; height:20px; }
 
      @media(max-width:980px){
        .wrap{ flex-direction:column }
        .right{ width:100% }
        .left{ padding:40px }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
 
      <!-- LEFT -->
      <div class="left">
        <h1>Conecte-se para transformar vidas</h1>
        <p>Cada acesso é um passo para espalhar solidariedade e esperança. Junte-se a nós e faça parte dessa corrente do bem.</p>
 
        <div class="logo-circle">
          <img src="images/logo-registro.png" alt="logo" style="width:204px;">
        </div>
      </div>
 
      <!-- RIGHT (form registro) -->
      <div class="right">
        <div class="back-pill" onclick="voltar()">
          <div class="pill">← Voltar</div>
        </div>
 
        <div style="margin-top:8px">
          <div class="title">Bem vindo!</div>
          <div class="subtitle">Por favor faça seu registro para sua conta</div>
        </div>
 
        <label class="field">
          <form action="/registro" method="POST">
          <label>Nome:</label>
          <input type="text" name="nome" required>
        </label>
 
        <label class="field">
            <label>Email:</label>
             <input type="email" name="email" required>
        </label>
 
        <label class="field">
          <div class="label-text">Senha</div>
          <input type="password" name="senha" required>
        </label>
 
        <div class="action-row">
          <button id="btn-registrar" class="btn btn-register">Registrar</button>
          <button id="btn-login" class="btn btn-login" onclick="irParaLogin()">Log in</button>
        </div>
        <p>Já tem conta? <a href="login.html">Entrar</a></p>
        <div class="divider">Ou continue com</div>
 
        <div>
          <button id="login" class="google-btn">
            <img src="images/google-icon.png" alt="google"> Google
          </button>
        </div>
      </div>
    </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

  // configuração do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyBpvUhJwfZmxFfB_PznHPAmQcShS-4TKlc",
    authDomain: "login-68a4d.firebaseapp.com",
    projectId: "login-68a4d",
    storageBucket: "login-68a4d.firebasestorage.app",
    messagingSenderId: "1054821428723",
    appId: "1:1054821428723:web:2b67959e8a59de225e3686"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  const loginBtn = document.getElementById("login");

  // quando clicar no botão "Google"
  loginBtn.addEventListener("click", async () => {
    try {
      const result = await signInWithPopup(auth, provider);
      const user = result.user;

      // se o login deu certo, redireciona para a página inicial
      if (user) {
        window.location.href = "pagina-inicial.html";
      }
    } catch (error) {
      alert("Erro ao logar: " + error.message);
    }
  });

  // apenas como segurança extra: se o usuário já estiver logado, manda pra página inicial
  onAuthStateChanged(auth, (user) => {
    if (user) {
      window.location.href = "pagina-inicial.html";
    }
  });
</script>
 
    <script>
      function voltar(){
        // voltar para login
        window.location = 'index.html';
      }
      function irParaLogin(){
        window.location = 'login.html';
      }
 
      document.getElementById("btn-comecar").addEventListener("click", function(){
        window.location.href = "pagina-inicial.html"
      })

    </script>
  </body>
</html>